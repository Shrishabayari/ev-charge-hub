{"ast":null,"code":"var _jsxFileName = \"D:\\\\UnifiedMentor\\\\electric-charger-hub\\\\ev-charge-hub\\\\client\\\\src\\\\components\\\\admin\\\\EvBunkMapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { MapPin, Zap, Clock, Phone, Map, List, Edit3, Navigation, AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EvBunkMapView = () => {\n  _s();\n  const [bunkLocations, setBunkLocations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedBunk, setSelectedBunk] = useState(null);\n  const [viewMode, setViewMode] = useState('list');\n  const [map, setMap] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [locationPermission, setLocationPermission] = useState('unknown');\n  const [mapsLoaded, setMapsLoaded] = useState(false);\n  const mapRef = useRef(null);\n  const infoWindowRef = useRef(null);\n  const markersRef = useRef([]);\n  const userMarkerRef = useRef(null);\n  const googleMapsScriptRef = useRef(null);\n\n  // Mock API key - replace with your actual key\n  const GOOGLE_MAPS_API_KEY = 'YOUR_GOOGLE_MAPS_API_KEY';\n\n  // Calculate distance between two coordinates using Haversine formula\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Radius of the Earth in kilometers\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    return distance;\n  };\n\n  // Mock data for demonstration\n  const mockBunkData = [{\n    _id: '1',\n    name: 'Central Mall Charging Hub',\n    address: '123 Main Street, Downtown',\n    phone: '+1-555-0123',\n    operatingHours: '24/7',\n    latitude: 12.9716,\n    longitude: 77.5946,\n    slotsAvailable: 3,\n    totalSlots: 5,\n    connectorTypes: ['Type 2', 'CCS', 'CHAdeMO'],\n    status: 'available'\n  }, {\n    _id: '2',\n    name: 'Tech Park Express Charging',\n    address: '456 Innovation Drive, Tech District',\n    phone: '+1-555-0456',\n    operatingHours: '6:00 AM - 10:00 PM',\n    latitude: 12.9616,\n    longitude: 77.6046,\n    slotsAvailable: 0,\n    totalSlots: 4,\n    connectorTypes: ['Type 2', 'CCS'],\n    status: 'full'\n  }, {\n    _id: '3',\n    name: 'Highway Rest Stop Chargers',\n    address: '789 Highway 101, Mile Marker 25',\n    phone: '+1-555-0789',\n    operatingHours: '24/7',\n    latitude: 12.9816,\n    longitude: 77.5846,\n    slotsAvailable: 2,\n    totalSlots: 3,\n    connectorTypes: ['Type 2', 'CCS', 'Tesla'],\n    status: 'available'\n  }];\n\n  // Normalize bunk data to ensure required properties exist\n  const normalizeBunkData = bunk => {\n    return {\n      _id: bunk._id || bunk.id || Math.random().toString(36),\n      name: bunk.name || bunk.stationName || 'Unnamed Station',\n      address: bunk.address || bunk.location || 'Address not available',\n      phone: bunk.phone || bunk.phoneNumber || bunk.contact || 'Not available',\n      operatingHours: bunk.operatingHours || bunk.hours || '24/7',\n      latitude: parseFloat(bunk.latitude || bunk.lat || 0),\n      longitude: parseFloat(bunk.longitude || bunk.lng || bunk.lon || 0),\n      slotsAvailable: parseInt(bunk.slotsAvailable || bunk.availableSlots || bunk.slots || 0),\n      totalSlots: parseInt(bunk.totalSlots || bunk.slotsAvailable || 0),\n      connectorTypes: bunk.connectorTypes || bunk.connectors || [],\n      distance: bunk.distance || null,\n      status: bunk.status || (bunk.slotsAvailable > 0 ? 'available' : 'full')\n    };\n  };\n\n  // Add distance calculation to bunks\n  const addDistanceToBunks = useCallback((bunks, userLat, userLng) => {\n    if (!userLat || !userLng || !Array.isArray(bunks)) return bunks;\n    return bunks.map(bunk => {\n      const normalizedBunk = normalizeBunkData(bunk);\n      return {\n        ...normalizedBunk,\n        distance: calculateDistance(userLat, userLng, normalizedBunk.latitude, normalizedBunk.longitude)\n      };\n    }).sort((a, b) => a.distance - b.distance);\n  }, []);\n\n  // Get user's current location\n  const getCurrentLocation = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('Geolocation is not supported by this browser.'));\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(position => {\n        const location = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setUserLocation(location);\n        setLocationPermission('granted');\n        resolve(location);\n      }, error => {\n        console.error('Error getting location:', error);\n        setLocationPermission('denied');\n        reject(error);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000\n      });\n    });\n  }, []);\n\n  // Load Google Maps script\n  useEffect(() => {\n    const loadGoogleMaps = () => {\n      return new Promise((resolve, reject) => {\n        if (window.google && window.google.maps) {\n          setMapsLoaded(true);\n          resolve();\n          return;\n        }\n        if (googleMapsScriptRef.current) {\n          googleMapsScriptRef.current.addEventListener('load', () => {\n            setMapsLoaded(true);\n            resolve();\n          });\n          googleMapsScriptRef.current.addEventListener('error', reject);\n          return;\n        }\n        const existingScript = document.querySelector(`script[src*=\"maps.googleapis.com\"]`);\n        if (existingScript) {\n          if (window.google && window.google.maps) {\n            setMapsLoaded(true);\n            resolve();\n          } else {\n            existingScript.addEventListener('load', () => {\n              setMapsLoaded(true);\n              resolve();\n            });\n            existingScript.addEventListener('error', reject);\n          }\n          return;\n        }\n\n        // For demo purposes, we'll simulate Google Maps loading\n        // In production, replace with actual Google Maps script\n        setTimeout(() => {\n          console.log('Google Maps would be loaded here');\n          setMapsLoaded(true);\n          resolve();\n        }, 1000);\n      });\n    };\n    loadGoogleMaps().catch(error => {\n      console.error('Failed to load Google Maps:', error);\n      setError('Failed to load Google Maps');\n    });\n  }, []);\n\n  // Clear existing markers\n  const clearMarkers = useCallback(() => {\n    markersRef.current.forEach(marker => {\n      if (marker && marker.setMap) {\n        marker.setMap(null);\n      }\n    });\n    markersRef.current = [];\n  }, []);\n\n  // Mock API functions\n  const fetchBunkLocations = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Simulate API delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      let bunks = mockBunkData.map(bunk => normalizeBunkData(bunk));\n      if (userLocation && bunks.length > 0) {\n        bunks = addDistanceToBunks(bunks, userLocation.lat, userLocation.lng);\n      }\n      setBunkLocations(bunks);\n    } catch (error) {\n      console.error('Error fetching bunk locations:', error);\n      setError(`Failed to fetch charging stations: ${error.message}`);\n      setBunkLocations([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchAvailableBunks = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      await new Promise(resolve => setTimeout(resolve, 500));\n      let bunks = mockBunkData.filter(bunk => bunk.slotsAvailable > 0).map(bunk => normalizeBunkData(bunk));\n      if (userLocation && bunks.length > 0) {\n        bunks = addDistanceToBunks(bunks, userLocation.lat, userLocation.lng);\n      }\n      setBunkLocations(bunks);\n    } catch (error) {\n      console.error('Error fetching available bunks:', error);\n      setError(`Failed to fetch available stations: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchNearbyBunks = async (lat, lng, radius = 10) => {\n    try {\n      setLoading(true);\n      setError(null);\n      await new Promise(resolve => setTimeout(resolve, 500));\n      let bunks = mockBunkData.map(bunk => normalizeBunkData(bunk)).map(bunk => ({\n        ...bunk,\n        distance: calculateDistance(lat, lng, bunk.latitude, bunk.longitude)\n      })).filter(bunk => bunk.distance <= radius && bunk.latitude && bunk.longitude).sort((a, b) => a.distance - b.distance);\n      setBunkLocations(bunks);\n      if (bunks.length === 0) {\n        setError(`No charging stations found within ${radius}km of your location`);\n      }\n    } catch (error) {\n      console.error('Error fetching nearby bunks:', error);\n      setError(`Failed to fetch nearby stations: ${error.message}`);\n      setBunkLocations([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle nearby button click with geolocation\n  const handleNearbyClick = async () => {\n    try {\n      setLoading(true);\n      const location = await getCurrentLocation();\n      await fetchNearbyBunks(location.lat, location.lng);\n      setViewMode('map');\n    } catch (error) {\n      console.error('Error getting location:', error);\n      const fallbackLocation = {\n        lat: 12.9716,\n        lng: 77.5946\n      };\n      setUserLocation(fallbackLocation);\n      await fetchNearbyBunks(fallbackLocation.lat, fallbackLocation.lng);\n      alert('Could not get your location. Showing nearby stations from default location.');\n    }\n  };\n\n  // Handle edit button click\n  const handleEditBunk = bunkId => {\n    alert(`Edit functionality for bunk ${bunkId} would be implemented here`);\n  };\n\n  // Handle view mode change\n  const handleViewModeChange = mode => {\n    if (mode === 'list' && map) {\n      setMap(null);\n      clearMarkers();\n      if (userMarkerRef.current) {\n        userMarkerRef.current = null;\n      }\n    }\n    setViewMode(mode);\n  };\n\n  // Initialize component\n  useEffect(() => {\n    fetchBunkLocations();\n  }, []);\n\n  // Recalculate distances when user location changes\n  useEffect(() => {\n    if (userLocation && bunkLocations.length > 0) {\n      const needsDistanceCalculation = bunkLocations.some(bunk => !bunk.distance);\n      if (needsDistanceCalculation) {\n        const bunksWithDistance = addDistanceToBunks(bunkLocations, userLocation.lat, userLocation.lng);\n        setBunkLocations(bunksWithDistance);\n      }\n    }\n  }, [userLocation, addDistanceToBunks]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading EV charging locations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-6 bg-red-50 rounded-lg max-w-md border border-red-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-600 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-12 w-12 mx-auto mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg\",\n            children: \"Connection Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-700 mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchBunkLocations,\n          className: \"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\",\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"EV Charging Stations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-6\",\n      children: [locationPermission !== 'unknown' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-4 p-3 rounded-lg text-sm ${locationPermission === 'granted' ? 'bg-green-50 text-green-700 border border-green-200' : 'bg-yellow-50 text-yellow-700 border border-yellow-200'}`,\n        children: locationPermission === 'granted' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Navigation, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 17\n          }, this), \"Location access granted - showing personalized results with distances\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 17\n          }, this), \"Location access denied - using default location\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleViewModeChange('list'),\n          className: `flex items-center gap-2 px-4 py-2 rounded transition-colors ${viewMode === 'list' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'}`,\n          children: [/*#__PURE__*/_jsxDEV(List, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), \"List View\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleViewModeChange('map'),\n          className: `flex items-center gap-2 px-4 py-2 rounded transition-colors ${viewMode === 'map' ? 'bg-blue-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'}`,\n          disabled: !mapsLoaded,\n          children: [/*#__PURE__*/_jsxDEV(Map, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), mapsLoaded ? 'Map View' : 'Loading Maps...']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchBunkLocations,\n          className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors flex items-center gap-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), \"All Stations\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchAvailableBunks,\n          className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors flex items-center gap-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), \"Available Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNearbyClick,\n          className: \"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors flex items-center gap-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(Navigation, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), loading ? 'Finding...' : 'Nearby Stations']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: [\"Found \", bunkLocations.length, \" charging station\", bunkLocations.length !== 1 ? 's' : '', userLocation && bunkLocations.some(b => b.distance) && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500 ml-2\",\n          children: \"(sorted by distance from your location)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this), viewMode === 'map' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          className: \"w-full h-96 rounded-lg border border-gray-300 bg-gray-100 flex items-center justify-center\",\n          children: mapsLoaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(Map, {\n              className: \"h-16 w-16 mx-auto mb-4 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Interactive map would be displayed here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm mt-2\",\n              children: \"Google Maps integration required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Loading Google Maps...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-sm text-gray-600 flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 bg-green-500 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 bg-red-500 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), userLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 bg-blue-500 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Your Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this), viewMode === 'list' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: bunkLocations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-full text-center py-12 bg-white rounded-lg shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            className: \"h-16 w-16 text-gray-400 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-600 mb-2\",\n            children: \"No Charging Stations Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Try adjusting your search criteria.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 15\n        }, this) : bunkLocations.map(bunk => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 p-6 border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center min-w-0 flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                className: \"h-5 w-5 text-blue-600 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-lg text-gray-800 truncate\",\n                children: bunk.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 ml-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBunk(bunk._id),\n                className: \"p-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors\",\n                title: \"Edit Station\",\n                children: /*#__PURE__*/_jsxDEV(Edit3, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${bunk.slotsAvailable > 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                children: bunk.slotsAvailable > 0 ? 'Available' : 'Full'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm line-clamp-2\",\n              children: bunk.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                className: \"h-4 w-4 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"truncate\",\n                children: bunk.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"h-4 w-4 mr-2 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: bunk.operatingHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                className: \"h-4 w-4 mr-2 text-yellow-600 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [bunk.slotsAvailable, \" of \", bunk.totalSlots, \" slots available\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 21\n            }, this), bunk.connectorTypes && bunk.connectorTypes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-1 mt-2\",\n              children: bunk.connectorTypes.map((connector, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\",\n                children: connector\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 23\n            }, this), bunk.distance && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-purple-600 flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Navigation, {\n                className: \"h-3 w-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 25\n              }, this), bunk.distance.toFixed(1), \" km away\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedBunk(bunk),\n              className: \"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors text-sm\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditBunk(bunk._id),\n              className: \"bg-orange-600 text-white py-2 px-3 rounded hover:bg-orange-700 transition-colors flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(Edit3, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                handleViewModeChange('map');\n              },\n              className: \"bg-gray-600 text-white py-2 px-3 rounded hover:bg-gray-700 transition-colors\",\n              disabled: !mapsLoaded,\n              children: /*#__PURE__*/_jsxDEV(Map, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 19\n          }, this)]\n        }, bunk._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 11\n      }, this), selectedBunk && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-800\",\n              children: selectedBunk.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditBunk(selectedBunk._id),\n                className: \"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors\",\n                title: \"Edit Station\",\n                children: /*#__PURE__*/_jsxDEV(Edit3, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedBunk(null),\n                className: \"text-gray-500 hover:text-gray-700 text-xl font-bold w-6 h-6 flex items-center justify-center\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: selectedBunk.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: selectedBunk.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Operating Hours:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: selectedBunk.operatingHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Available Slots:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: [selectedBunk.slotsAvailable, \" of \", selectedBunk.totalSlots]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Coordinates:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: [selectedBunk.latitude.toFixed(6), \", \", selectedBunk.longitude.toFixed(6)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this), selectedBunk.connectorTypes && selectedBunk.connectorTypes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Connector Types:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mt-2\",\n                children: selectedBunk.connectorTypes.map((connector, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\",\n                  children: connector\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 19\n            }, this), selectedBunk.distance && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-700\",\n                children: \"Distance:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-purple-600 mt-1 flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Navigation, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 23\n                }, this), selectedBunk.distance.toFixed(1), \" km away\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mt-6 pt-4 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                const url = `https://www.google.com/maps/dir/?api=1&destination=${selectedBunk.latitude},${selectedBunk.longitude}`;\n                window.open(url, '_blank');\n              },\n              className: \"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors text-sm\",\n              children: \"Get Directions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditBunk(selectedBunk._id),\n              className: \"bg-orange-600 text-white py-2 px-4 rounded hover:bg-orange-700 transition-colors flex items-center gap-1 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 19\n              }, this), \"Edit\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedBunk(null),\n              className: \"bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors text-sm\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n};\n_s(EvBunkMapView, \"wdlgEu/T8pLAJnqN7snLvfB01ts=\");\n_c = EvBunkMapView;\nexport default EvBunkMapView;\nvar _c;\n$RefreshReg$(_c, \"EvBunkMapView\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","MapPin","Zap","Clock","Phone","Map","List","Edit3","Navigation","AlertCircle","jsxDEV","_jsxDEV","EvBunkMapView","_s","bunkLocations","setBunkLocations","loading","setLoading","error","setError","selectedBunk","setSelectedBunk","viewMode","setViewMode","map","setMap","userLocation","setUserLocation","locationPermission","setLocationPermission","mapsLoaded","setMapsLoaded","mapRef","infoWindowRef","markersRef","userMarkerRef","googleMapsScriptRef","GOOGLE_MAPS_API_KEY","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","distance","mockBunkData","_id","name","address","phone","operatingHours","latitude","longitude","slotsAvailable","totalSlots","connectorTypes","status","normalizeBunkData","bunk","id","random","toString","stationName","location","phoneNumber","contact","hours","parseFloat","lat","lng","lon","parseInt","availableSlots","slots","connectors","addDistanceToBunks","bunks","userLat","userLng","Array","isArray","normalizedBunk","sort","b","getCurrentLocation","Promise","resolve","reject","navigator","geolocation","Error","getCurrentPosition","position","coords","console","enableHighAccuracy","timeout","maximumAge","loadGoogleMaps","window","google","maps","current","addEventListener","existingScript","document","querySelector","setTimeout","log","catch","clearMarkers","forEach","marker","fetchBunkLocations","length","message","fetchAvailableBunks","filter","fetchNearbyBunks","radius","handleNearbyClick","fallbackLocation","alert","handleEditBunk","bunkId","handleViewModeChange","mode","needsDistanceCalculation","some","bunksWithDistance","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","ref","title","connector","index","toFixed","url","open","_c","$RefreshReg$"],"sources":["D:/UnifiedMentor/electric-charger-hub/ev-charge-hub/client/src/components/admin/EvBunkMapView.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { MapPin, Zap, Clock, Phone, Map, List, Edit3, Navigation, AlertCircle } from 'lucide-react';\r\n\r\nconst EvBunkMapView = () => {\r\n  const [bunkLocations, setBunkLocations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedBunk, setSelectedBunk] = useState(null);\r\n  const [viewMode, setViewMode] = useState('list');\r\n  const [map, setMap] = useState(null);\r\n  const [userLocation, setUserLocation] = useState(null);\r\n  const [locationPermission, setLocationPermission] = useState('unknown');\r\n  const [mapsLoaded, setMapsLoaded] = useState(false);\r\n  \r\n  const mapRef = useRef(null);\r\n  const infoWindowRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const userMarkerRef = useRef(null);\r\n  const googleMapsScriptRef = useRef(null);\r\n\r\n  // Mock API key - replace with your actual key\r\n  const GOOGLE_MAPS_API_KEY = 'YOUR_GOOGLE_MAPS_API_KEY';\r\n\r\n  // Calculate distance between two coordinates using Haversine formula\r\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371; // Radius of the Earth in kilometers\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n    const a = \r\n      Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \r\n      Math.sin(dLon/2) * Math.sin(dLon/2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    const distance = R * c;\r\n    return distance;\r\n  };\r\n\r\n  // Mock data for demonstration\r\n  const mockBunkData = [\r\n    {\r\n      _id: '1',\r\n      name: 'Central Mall Charging Hub',\r\n      address: '123 Main Street, Downtown',\r\n      phone: '+1-555-0123',\r\n      operatingHours: '24/7',\r\n      latitude: 12.9716,\r\n      longitude: 77.5946,\r\n      slotsAvailable: 3,\r\n      totalSlots: 5,\r\n      connectorTypes: ['Type 2', 'CCS', 'CHAdeMO'],\r\n      status: 'available'\r\n    },\r\n    {\r\n      _id: '2',\r\n      name: 'Tech Park Express Charging',\r\n      address: '456 Innovation Drive, Tech District',\r\n      phone: '+1-555-0456',\r\n      operatingHours: '6:00 AM - 10:00 PM',\r\n      latitude: 12.9616,\r\n      longitude: 77.6046,\r\n      slotsAvailable: 0,\r\n      totalSlots: 4,\r\n      connectorTypes: ['Type 2', 'CCS'],\r\n      status: 'full'\r\n    },\r\n    {\r\n      _id: '3',\r\n      name: 'Highway Rest Stop Chargers',\r\n      address: '789 Highway 101, Mile Marker 25',\r\n      phone: '+1-555-0789',\r\n      operatingHours: '24/7',\r\n      latitude: 12.9816,\r\n      longitude: 77.5846,\r\n      slotsAvailable: 2,\r\n      totalSlots: 3,\r\n      connectorTypes: ['Type 2', 'CCS', 'Tesla'],\r\n      status: 'available'\r\n    }\r\n  ];\r\n\r\n  // Normalize bunk data to ensure required properties exist\r\n  const normalizeBunkData = (bunk) => {\r\n    return {\r\n      _id: bunk._id || bunk.id || Math.random().toString(36),\r\n      name: bunk.name || bunk.stationName || 'Unnamed Station',\r\n      address: bunk.address || bunk.location || 'Address not available',\r\n      phone: bunk.phone || bunk.phoneNumber || bunk.contact || 'Not available',\r\n      operatingHours: bunk.operatingHours || bunk.hours || '24/7',\r\n      latitude: parseFloat(bunk.latitude || bunk.lat || 0),\r\n      longitude: parseFloat(bunk.longitude || bunk.lng || bunk.lon || 0),\r\n      slotsAvailable: parseInt(bunk.slotsAvailable || bunk.availableSlots || bunk.slots || 0),\r\n      totalSlots: parseInt(bunk.totalSlots || bunk.slotsAvailable || 0),\r\n      connectorTypes: bunk.connectorTypes || bunk.connectors || [],\r\n      distance: bunk.distance || null,\r\n      status: bunk.status || (bunk.slotsAvailable > 0 ? 'available' : 'full')\r\n    };\r\n  };\r\n\r\n  // Add distance calculation to bunks\r\n  const addDistanceToBunks = useCallback((bunks, userLat, userLng) => {\r\n    if (!userLat || !userLng || !Array.isArray(bunks)) return bunks;\r\n    \r\n    return bunks.map(bunk => {\r\n      const normalizedBunk = normalizeBunkData(bunk);\r\n      return {\r\n        ...normalizedBunk,\r\n        distance: calculateDistance(userLat, userLng, normalizedBunk.latitude, normalizedBunk.longitude)\r\n      };\r\n    }).sort((a, b) => a.distance - b.distance);\r\n  }, []);\r\n\r\n  // Get user's current location\r\n  const getCurrentLocation = useCallback(() => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!navigator.geolocation) {\r\n        reject(new Error('Geolocation is not supported by this browser.'));\r\n        return;\r\n      }\r\n\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const location = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          };\r\n          setUserLocation(location);\r\n          setLocationPermission('granted');\r\n          resolve(location);\r\n        },\r\n        (error) => {\r\n          console.error('Error getting location:', error);\r\n          setLocationPermission('denied');\r\n          reject(error);\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          timeout: 10000,\r\n          maximumAge: 300000\r\n        }\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  // Load Google Maps script\r\n  useEffect(() => {\r\n    const loadGoogleMaps = () => {\r\n      return new Promise((resolve, reject) => {\r\n        if (window.google && window.google.maps) {\r\n          setMapsLoaded(true);\r\n          resolve();\r\n          return;\r\n        }\r\n\r\n        if (googleMapsScriptRef.current) {\r\n          googleMapsScriptRef.current.addEventListener('load', () => {\r\n            setMapsLoaded(true);\r\n            resolve();\r\n          });\r\n          googleMapsScriptRef.current.addEventListener('error', reject);\r\n          return;\r\n        }\r\n\r\n        const existingScript = document.querySelector(`script[src*=\"maps.googleapis.com\"]`);\r\n        if (existingScript) {\r\n          if (window.google && window.google.maps) {\r\n            setMapsLoaded(true);\r\n            resolve();\r\n          } else {\r\n            existingScript.addEventListener('load', () => {\r\n              setMapsLoaded(true);\r\n              resolve();\r\n            });\r\n            existingScript.addEventListener('error', reject);\r\n          }\r\n          return;\r\n        }\r\n\r\n        // For demo purposes, we'll simulate Google Maps loading\r\n        // In production, replace with actual Google Maps script\r\n        setTimeout(() => {\r\n          console.log('Google Maps would be loaded here');\r\n          setMapsLoaded(true);\r\n          resolve();\r\n        }, 1000);\r\n      });\r\n    };\r\n\r\n    loadGoogleMaps().catch(error => {\r\n      console.error('Failed to load Google Maps:', error);\r\n      setError('Failed to load Google Maps');\r\n    });\r\n  }, []);\r\n\r\n  // Clear existing markers\r\n  const clearMarkers = useCallback(() => {\r\n    markersRef.current.forEach(marker => {\r\n      if (marker && marker.setMap) {\r\n        marker.setMap(null);\r\n      }\r\n    });\r\n    markersRef.current = [];\r\n  }, []);\r\n\r\n  // Mock API functions\r\n  const fetchBunkLocations = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Simulate API delay\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      let bunks = mockBunkData.map(bunk => normalizeBunkData(bunk));\r\n\r\n      if (userLocation && bunks.length > 0) {\r\n        bunks = addDistanceToBunks(bunks, userLocation.lat, userLocation.lng);\r\n      }\r\n\r\n      setBunkLocations(bunks);\r\n    } catch (error) {\r\n      console.error('Error fetching bunk locations:', error);\r\n      setError(`Failed to fetch charging stations: ${error.message}`);\r\n      setBunkLocations([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAvailableBunks = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      let bunks = mockBunkData\r\n        .filter(bunk => bunk.slotsAvailable > 0)\r\n        .map(bunk => normalizeBunkData(bunk));\r\n\r\n      if (userLocation && bunks.length > 0) {\r\n        bunks = addDistanceToBunks(bunks, userLocation.lat, userLocation.lng);\r\n      }\r\n\r\n      setBunkLocations(bunks);\r\n    } catch (error) {\r\n      console.error('Error fetching available bunks:', error);\r\n      setError(`Failed to fetch available stations: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchNearbyBunks = async (lat, lng, radius = 10) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n      \r\n      let bunks = mockBunkData\r\n        .map(bunk => normalizeBunkData(bunk))\r\n        .map(bunk => ({\r\n          ...bunk,\r\n          distance: calculateDistance(lat, lng, bunk.latitude, bunk.longitude)\r\n        }))\r\n        .filter(bunk => bunk.distance <= radius && bunk.latitude && bunk.longitude)\r\n        .sort((a, b) => a.distance - b.distance);\r\n\r\n      setBunkLocations(bunks);\r\n      \r\n      if (bunks.length === 0) {\r\n        setError(`No charging stations found within ${radius}km of your location`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching nearby bunks:', error);\r\n      setError(`Failed to fetch nearby stations: ${error.message}`);\r\n      setBunkLocations([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle nearby button click with geolocation\r\n  const handleNearbyClick = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const location = await getCurrentLocation();\r\n      await fetchNearbyBunks(location.lat, location.lng);\r\n      setViewMode('map');\r\n    } catch (error) {\r\n      console.error('Error getting location:', error);\r\n      const fallbackLocation = { lat: 12.9716, lng: 77.5946 };\r\n      setUserLocation(fallbackLocation);\r\n      await fetchNearbyBunks(fallbackLocation.lat, fallbackLocation.lng);\r\n      alert('Could not get your location. Showing nearby stations from default location.');\r\n    }\r\n  };\r\n\r\n  // Handle edit button click\r\n  const handleEditBunk = (bunkId) => {\r\n    alert(`Edit functionality for bunk ${bunkId} would be implemented here`);\r\n  };\r\n\r\n  // Handle view mode change\r\n  const handleViewModeChange = (mode) => {\r\n    if (mode === 'list' && map) {\r\n      setMap(null);\r\n      clearMarkers();\r\n      if (userMarkerRef.current) {\r\n        userMarkerRef.current = null;\r\n      }\r\n    }\r\n    setViewMode(mode);\r\n  };\r\n\r\n  // Initialize component\r\n  useEffect(() => {\r\n    fetchBunkLocations();\r\n  }, []);\r\n\r\n  // Recalculate distances when user location changes\r\n  useEffect(() => {\r\n    if (userLocation && bunkLocations.length > 0) {\r\n      const needsDistanceCalculation = bunkLocations.some(bunk => !bunk.distance);\r\n      if (needsDistanceCalculation) {\r\n        const bunksWithDistance = addDistanceToBunks(bunkLocations, userLocation.lat, userLocation.lng);\r\n        setBunkLocations(bunksWithDistance);\r\n      }\r\n    }\r\n  }, [userLocation, addDistanceToBunks]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading EV charging locations...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center p-6 bg-red-50 rounded-lg max-w-md border border-red-200\">\r\n          <div className=\"text-red-600 mb-4\">\r\n            <AlertCircle className=\"h-12 w-12 mx-auto mb-2\" />\r\n            <h3 className=\"font-semibold text-lg\">Connection Error</h3>\r\n          </div>\r\n          <p className=\"text-red-700 mb-4\">{error}</p>\r\n          <button \r\n            onClick={fetchBunkLocations}\r\n            className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\"\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"container mx-auto px-6 py-4\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">EV Charging Stations</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto p-6\">\r\n        {/* Location Permission Status */}\r\n        {locationPermission !== 'unknown' && (\r\n          <div className={`mb-4 p-3 rounded-lg text-sm ${\r\n            locationPermission === 'granted' \r\n              ? 'bg-green-50 text-green-700 border border-green-200' \r\n              : 'bg-yellow-50 text-yellow-700 border border-yellow-200'\r\n          }`}>\r\n            {locationPermission === 'granted' ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Navigation className=\"h-4 w-4\" />\r\n                Location access granted - showing personalized results with distances\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center gap-2\">\r\n                <MapPin className=\"h-4 w-4\" />\r\n                Location access denied - using default location\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        \r\n        {/* View Mode Toggle */}\r\n        <div className=\"flex gap-2 mb-4\">\r\n          <button\r\n            onClick={() => handleViewModeChange('list')}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded transition-colors ${\r\n              viewMode === 'list' \r\n                ? 'bg-blue-600 text-white' \r\n                : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'\r\n            }`}\r\n          >\r\n            <List className=\"h-4 w-4\" />\r\n            List View\r\n          </button>\r\n          <button\r\n            onClick={() => handleViewModeChange('map')}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded transition-colors ${\r\n              viewMode === 'map' \r\n                ? 'bg-blue-600 text-white' \r\n                : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-300'\r\n            }`}\r\n            disabled={!mapsLoaded}\r\n          >\r\n            <Map className=\"h-4 w-4\" />\r\n            {mapsLoaded ? 'Map View' : 'Loading Maps...'}\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Filter Buttons */}\r\n        <div className=\"flex flex-wrap gap-2 mb-6\">\r\n          <button \r\n            onClick={fetchBunkLocations}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n            disabled={loading}\r\n          >\r\n            <Zap className=\"h-4 w-4\" />\r\n            All Stations\r\n          </button>\r\n          <button \r\n            onClick={fetchAvailableBunks}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors flex items-center gap-2\"\r\n            disabled={loading}\r\n          >\r\n            <Zap className=\"h-4 w-4\" />\r\n            Available Only\r\n          </button>\r\n          <button \r\n            onClick={handleNearbyClick}\r\n            className=\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors flex items-center gap-2\"\r\n            disabled={loading}\r\n          >\r\n            <Navigation className=\"h-4 w-4\" />\r\n            {loading ? 'Finding...' : 'Nearby Stations'}\r\n          </button>\r\n        </div>\r\n\r\n        <p className=\"text-gray-600 mb-6\">\r\n          Found {bunkLocations.length} charging station{bunkLocations.length !== 1 ? 's' : ''}\r\n          {userLocation && bunkLocations.some(b => b.distance) && (\r\n            <span className=\"text-sm text-gray-500 ml-2\">\r\n              (sorted by distance from your location)\r\n            </span>\r\n          )}\r\n        </p>\r\n\r\n        {/* Map View */}\r\n        {viewMode === 'map' && (\r\n          <div className=\"mb-6\">\r\n            <div \r\n              ref={mapRef}\r\n              className=\"w-full h-96 rounded-lg border border-gray-300 bg-gray-100 flex items-center justify-center\"\r\n            >\r\n              {mapsLoaded ? (\r\n                <div className=\"text-center text-gray-600\">\r\n                  <Map className=\"h-16 w-16 mx-auto mb-4 text-gray-400\" />\r\n                  <p>Interactive map would be displayed here</p>\r\n                  <p className=\"text-sm mt-2\">Google Maps integration required</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center text-gray-600\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2\"></div>\r\n                  <p>Loading Google Maps...</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-2 text-sm text-gray-600 flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <div className=\"w-4 h-4 bg-green-500 rounded-full\"></div>\r\n                <span>Available</span>\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <div className=\"w-4 h-4 bg-red-500 rounded-full\"></div>\r\n                <span>Full</span>\r\n              </div>\r\n              {userLocation && (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <div className=\"w-4 h-4 bg-blue-500 rounded-full\"></div>\r\n                  <span>Your Location</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* List View */}\r\n        {viewMode === 'list' && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {bunkLocations.length === 0 ? (\r\n              <div className=\"col-span-full text-center py-12 bg-white rounded-lg shadow-sm\">\r\n                <Zap className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">No Charging Stations Found</h3>\r\n                <p className=\"text-gray-500\">Try adjusting your search criteria.</p>\r\n              </div>\r\n            ) : (\r\n              bunkLocations.map((bunk) => (\r\n                <div \r\n                  key={bunk._id} \r\n                  className=\"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 p-6 border border-gray-200\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div className=\"flex items-center min-w-0 flex-1\">\r\n                      <MapPin className=\"h-5 w-5 text-blue-600 mr-2 flex-shrink-0\" />\r\n                      <h3 className=\"font-semibold text-lg text-gray-800 truncate\">{bunk.name}</h3>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 ml-2\">\r\n                      <button\r\n                        onClick={() => handleEditBunk(bunk._id)}\r\n                        className=\"p-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors\"\r\n                        title=\"Edit Station\"\r\n                      >\r\n                        <Edit3 className=\"h-4 w-4\" />\r\n                      </button>\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium whitespace-nowrap ${\r\n                        bunk.slotsAvailable > 0 \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {bunk.slotsAvailable > 0 ? 'Available' : 'Full'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <p className=\"text-gray-600 text-sm line-clamp-2\">{bunk.address}</p>\r\n                    \r\n                    <div className=\"flex items-center text-sm text-gray-600\">\r\n                      <Phone className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span className=\"truncate\">{bunk.phone}</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center text-sm text-gray-600\">\r\n                      <Clock className=\"h-4 w-4 mr-2 flex-shrink-0\" />\r\n                      <span>{bunk.operatingHours}</span>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center text-sm\">\r\n                      <Zap className=\"h-4 w-4 mr-2 text-yellow-600 flex-shrink-0\" />\r\n                      <span className=\"font-medium\">{bunk.slotsAvailable} of {bunk.totalSlots} slots available</span>\r\n                    </div>\r\n\r\n                    {bunk.connectorTypes && bunk.connectorTypes.length > 0 && (\r\n                      <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                        {bunk.connectorTypes.map((connector, index) => (\r\n                          <span \r\n                            key={index}\r\n                            className=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\"\r\n                          >\r\n                            {connector}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    {bunk.distance && (\r\n                      <p className=\"text-sm font-medium text-purple-600 flex items-center gap-1\">\r\n                        <Navigation className=\"h-3 w-3\" />\r\n                        {bunk.distance.toFixed(1)} km away\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-2 mt-4\">\r\n                    <button \r\n                      onClick={() => setSelectedBunk(bunk)}\r\n                      className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors text-sm\"\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                    <button \r\n                      onClick={() => handleEditBunk(bunk._id)}\r\n                      className=\"bg-orange-600 text-white py-2 px-3 rounded hover:bg-orange-700 transition-colors flex items-center\"\r\n                    >\r\n                      <Edit3 className=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button \r\n                      onClick={() => {\r\n                        handleViewModeChange('map');\r\n                      }}\r\n                      className=\"bg-gray-600 text-white py-2 px-3 rounded hover:bg-gray-700 transition-colors\"\r\n                      disabled={!mapsLoaded}\r\n                    >\r\n                      <Map className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Modal for selected bunk details */}\r\n        {selectedBunk && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h2 className=\"text-xl font-bold text-gray-800\">{selectedBunk.name}</h2>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    onClick={() => handleEditBunk(selectedBunk._id)}\r\n                    className=\"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors\"\r\n                    title=\"Edit Station\"\r\n                  >\r\n                    <Edit3 className=\"h-4 w-4\" />\r\n                  </button>\r\n                  <button \r\n                    onClick={() => setSelectedBunk(null)}\r\n                    className=\"text-gray-500 hover:text-gray-700 text-xl font-bold w-6 h-6 flex items-center justify-center\"\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3 text-sm\">\r\n                <div>\r\n                  <strong className=\"text-gray-700\">Address:</strong>\r\n                  <p className=\"text-gray-600 mt-1\">{selectedBunk.address}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <strong className=\"text-gray-700\">Phone:</strong>\r\n                  <p className=\"text-gray-600 mt-1\">{selectedBunk.phone}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <strong className=\"text-gray-700\">Operating Hours:</strong>\r\n                  <p className=\"text-gray-600 mt-1\">{selectedBunk.operatingHours}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <strong className=\"text-gray-700\">Available Slots:</strong>\r\n                  <p className=\"text-gray-600 mt-1\">{selectedBunk.slotsAvailable} of {selectedBunk.totalSlots}</p>\r\n                </div>\r\n                \r\n                <div>\r\n                  <strong className=\"text-gray-700\">Coordinates:</strong>\r\n                  <p className=\"text-gray-600 mt-1\">{selectedBunk.latitude.toFixed(6)}, {selectedBunk.longitude.toFixed(6)}</p>\r\n                </div>\r\n                \r\n                {selectedBunk.connectorTypes && selectedBunk.connectorTypes.length > 0 && (\r\n                  <div>\r\n                    <strong className=\"text-gray-700\">Connector Types:</strong>\r\n                    <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                      {selectedBunk.connectorTypes.map((connector, index) => (\r\n                        <span \r\n                          key={index}\r\n                          className=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded\"\r\n                        >\r\n                          {connector}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedBunk.distance && (\r\n                  <div>\r\n                    <strong className=\"text-gray-700\">Distance:</strong>\r\n                    <p className=\"text-purple-600 mt-1 flex items-center gap-1\">\r\n                      <Navigation className=\"h-4 w-4\" />\r\n                      {selectedBunk.distance.toFixed(1)} km away\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex gap-2 mt-6 pt-4 border-t\">\r\n                <button\r\n                  onClick={() => {\r\n                    const url = `https://www.google.com/maps/dir/?api=1&destination=${selectedBunk.latitude},${selectedBunk.longitude}`;\r\n                    window.open(url, '_blank');\r\n                  }}\r\n                  className=\"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors text-sm\"\r\n                >\r\n                  Get Directions\r\n                </button>\r\n                <button\r\n                  onClick={() => handleEditBunk(selectedBunk._id)}\r\n                  className=\"bg-orange-600 text-white py-2 px-4 rounded hover:bg-orange-700 transition-colors flex items-center gap-1 text-sm\"\r\n                >\r\n                  <Edit3 className=\"h-4 w-4\" />\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => setSelectedBunk(null)}\r\n                  className=\"bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors text-sm\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EvBunkMapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}