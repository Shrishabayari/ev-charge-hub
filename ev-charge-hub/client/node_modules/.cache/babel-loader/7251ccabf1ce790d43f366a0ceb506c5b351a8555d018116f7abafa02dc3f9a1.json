{"ast":null,"code":"var _jsxFileName = \"D:\\\\UnifiedMentor\\\\electric-charger-hub\\\\ev-charge-hub\\\\client\\\\src\\\\components\\\\admin\\\\AdminBookingList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { format } from 'date-fns';\n\n// Stats component for the dashboard\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookingStats = ({\n  stats\n}) => {\n  var _stats$totalRevenue;\n  if (!stats) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700 mb-2\",\n        children: \"Total Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-3xl font-bold text-indigo-600\",\n        children: stats.totalBookings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700 mb-2\",\n        children: \"Active Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-3xl font-bold text-green-600\",\n        children: stats.activeBookings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700 mb-2\",\n        children: \"Revenue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-3xl font-bold text-blue-600\",\n        children: [\"$\", ((_stats$totalRevenue = stats.totalRevenue) === null || _stats$totalRevenue === void 0 ? void 0 : _stats$totalRevenue.toFixed(2)) || '0.00']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n};\n\n// BookingDetails component for the modal\n_c = BookingStats;\nconst BookingDetails = ({\n  booking,\n  onClose,\n  onStatusChange\n}) => {\n  var _booking$userId, _booking$user, _booking$bunkId, _booking$bunk;\n  if (!booking) return null;\n  const getStatusBadgeClass = status => {\n    switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n      case 'active':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-screen overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold\",\n          children: \"Booking Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"p-1 hover:bg-gray-100 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Booking ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: booking._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeClass(booking.status)}`,\n            children: booking.status || 'Unknown'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: ((_booking$userId = booking.userId) === null || _booking$userId === void 0 ? void 0 : _booking$userId.name) || ((_booking$user = booking.user) === null || _booking$user === void 0 ? void 0 : _booking$user.name) || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"EV Bunk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: ((_booking$bunkId = booking.bunkId) === null || _booking$bunkId === void 0 ? void 0 : _booking$bunkId.name) || ((_booking$bunk = booking.bunk) === null || _booking$bunk === void 0 ? void 0 : _booking$bunk.name) || 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Start Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: format(new Date(booking.startTime || booking.slot), 'MMM dd, yyyy HH:mm')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"End Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: booking.endTime ? format(new Date(booking.endTime), 'MMM dd, yyyy HH:mm') : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), booking.price && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: [\"$\", booking.price.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), booking.vehicle && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Vehicle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: booking.vehicle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium mb-2\",\n          children: \"Update Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onStatusChange(booking._id, 'active'),\n            className: `px-3 py-1 rounded text-sm font-medium ${booking.status === 'active' ? 'bg-green-600 text-white' : 'bg-gray-200 hover:bg-green-100'}`,\n            disabled: booking.status === 'active',\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onStatusChange(booking._id, 'completed'),\n            className: `px-3 py-1 rounded text-sm font-medium ${booking.status === 'completed' ? 'bg-blue-600 text-white' : 'bg-gray-200 hover:bg-blue-100'}`,\n            disabled: booking.status === 'completed',\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onStatusChange(booking._id, 'cancelled'),\n            className: `px-3 py-1 rounded text-sm font-medium ${booking.status === 'cancelled' ? 'bg-red-600 text-white' : 'bg-gray-200 hover:bg-red-100'}`,\n            disabled: booking.status === 'cancelled',\n            children: \"Cancelled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_c2 = BookingDetails;\nconst AdminBookingsList = () => {\n  _s();\n  const navigate = useNavigate();\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [selectedBooking, setSelectedBooking] = useState(null);\n\n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalBookings, setTotalBookings] = useState(0);\n  const [limit] = useState(10);\n\n  // Filter state\n  const [filters, setFilters] = useState({\n    status: '',\n    startDate: '',\n    endDate: '',\n    search: ''\n  });\n\n  // Mock data for development mode\n  const MOCK_STATS = {\n    totalBookings: 42,\n    activeBookings: 15,\n    totalRevenue: 3250.75\n  };\n  const MOCK_BOOKINGS = [{\n    _id: \"60d21b4667d0d8992e610c85\",\n    userId: {\n      name: \"John Doe\"\n    },\n    bunkId: {\n      name: \"Central EV Station\"\n    },\n    startTime: new Date().toISOString(),\n    endTime: new Date(Date.now() + 3600000).toISOString(),\n    price: 45.99,\n    vehicle: \"Tesla Model 3\",\n    status: \"active\"\n  }, {\n    _id: \"60d21b4667d0d8992e610c86\",\n    userId: {\n      name: \"Jane Smith\"\n    },\n    bunkId: {\n      name: \"North Side Charging\"\n    },\n    startTime: new Date(Date.now() + 86400000).toISOString(),\n    endTime: new Date(Date.now() + 90000000).toISOString(),\n    price: 37.50,\n    vehicle: \"Nissan Leaf\",\n    status: \"completed\"\n  }, {\n    _id: \"60d21b4667d0d8992e610c87\",\n    userId: {\n      name: \"Robert Johnson\"\n    },\n    bunkId: {\n      name: \"South EV Hub\"\n    },\n    startTime: new Date(Date.now() - 86400000).toISOString(),\n    endTime: new Date(Date.now() - 82800000).toISOString(),\n    price: 29.99,\n    vehicle: \"Chevrolet Bolt\",\n    status: \"cancelled\"\n  }];\n\n  // Get authentication token from storage\n  const getAuthToken = () => {\n    return localStorage.getItem('authToken') || localStorage.getItem('token') || localStorage.getItem('userToken') || sessionStorage.getItem('authToken') || (process.env.NODE_ENV === 'development' ? localStorage.getItem('mockAuthToken') : null);\n  };\n\n  // For development mode: Set up mock auth token\n  useEffect(() => {\n    const setupDevEnvironment = () => {\n      if (process.env.NODE_ENV === 'development' && !getAuthToken()) {\n        const devMode = localStorage.getItem('devMode');\n        if (devMode === 'true') {\n          console.log('Development mode: Using mock authentication');\n          localStorage.setItem('mockAuthToken', 'dev-token-for-testing');\n        }\n      }\n    };\n    setupDevEnvironment();\n  }, []);\n\n  // Fetch booking statistics\n  const fetchStats = useCallback(async () => {\n    try {\n      const token = getAuthToken();\n      if (!token) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"Development mode: Using mock stats\");\n          setStats(MOCK_STATS);\n          return;\n        } else {\n          return;\n        }\n      }\n      const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.get('/api/bookings/stats', {\n        headers\n      });\n      if (response.data.success) {\n        setStats(response.data.data);\n      } else {\n        console.warn(\"Failed to fetch stats:\", response.data.message);\n      }\n    } catch (err) {\n      console.error('Error fetching booking stats:', err);\n    }\n  }, []);\n\n  // Fetch booking details\n  const fetchBookingDetails = useCallback(async bookingId => {\n    try {\n      const token = getAuthToken();\n      if (!token) {\n        if (process.env.NODE_ENV === 'development') {\n          const mockBooking = MOCK_BOOKINGS.find(b => b._id === bookingId);\n          if (mockBooking) {\n            setSelectedBooking(mockBooking);\n          }\n          return;\n        } else {\n          setError('Authentication required. Please log in again.');\n          return;\n        }\n      }\n      const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.get(`/api/bookings/${bookingId}`, {\n        headers\n      });\n      if (response.data.success) {\n        setSelectedBooking(response.data.data);\n      } else {\n        alert(response.data.message || 'Failed to fetch booking details');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error fetching booking details:', err);\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to fetch booking details');\n    }\n  }, []);\n\n  // Function to fetch bookings\n  const fetchBookings = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Get the token\n      const token = getAuthToken();\n      if (!token) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"⚠️ Development mode: No auth token found. Using mock data.\");\n          setBookings(MOCK_BOOKINGS);\n          setTotalPages(1);\n          setTotalBookings(MOCK_BOOKINGS.length);\n          setLoading(false);\n          return;\n        } else {\n          setError('Authentication required. Please log in again.');\n          setLoading(false);\n          return;\n        }\n      }\n\n      // Set up headers with authentication\n      const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      };\n\n      // Construct query parameters\n      const params = {\n        page: currentPage,\n        limit,\n        ...(filters.status && {\n          status: filters.status\n        }),\n        ...(filters.startDate && {\n          startDate: filters.startDate\n        }),\n        ...(filters.endDate && {\n          endDate: filters.endDate\n        }),\n        ...(filters.search && {\n          search: filters.search\n        })\n      };\n\n      // Make API call\n      const response = await axios.get('/api/bookings', {\n        headers,\n        params\n      });\n\n      // Handle different response structures\n      let bookingsData = [],\n        totalPagesCount = 1,\n        totalBookingsCount = 0;\n      if (response.data.success) {\n        // Standard success response format\n        if (response.data.data && response.data.data.bookings) {\n          var _response$data$data$p, _response$data$data$p2;\n          bookingsData = response.data.data.bookings;\n          totalPagesCount = ((_response$data$data$p = response.data.data.pagination) === null || _response$data$data$p === void 0 ? void 0 : _response$data$data$p.pages) || 1;\n          totalBookingsCount = ((_response$data$data$p2 = response.data.data.pagination) === null || _response$data$data$p2 === void 0 ? void 0 : _response$data$data$p2.total) || 0;\n        } else if (Array.isArray(response.data.data)) {\n          var _response$data$pagina, _response$data$pagina2;\n          bookingsData = response.data.data;\n          totalPagesCount = ((_response$data$pagina = response.data.pagination) === null || _response$data$pagina === void 0 ? void 0 : _response$data$pagina.pages) || 1;\n          totalBookingsCount = ((_response$data$pagina2 = response.data.pagination) === null || _response$data$pagina2 === void 0 ? void 0 : _response$data$pagina2.total) || 0;\n        }\n      } else if (response.data.bookings) {\n        // Alternative format\n        bookingsData = response.data.bookings;\n        totalPagesCount = response.data.totalPages || 1;\n        totalBookingsCount = response.data.totalCount || 0;\n      } else if (Array.isArray(response.data)) {\n        // Direct array response\n        bookingsData = response.data;\n        totalPagesCount = 1;\n        totalBookingsCount = response.data.length;\n      } else {\n        console.warn(\"Unexpected response format:\", response.data);\n        bookingsData = [];\n      }\n      setBookings(bookingsData);\n      setTotalPages(totalPagesCount);\n      setTotalBookings(totalBookingsCount);\n      setLoading(false);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Error fetching bookings:', err);\n      const errorMessage = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to fetch bookings';\n      setError(errorMessage);\n      setLoading(false);\n    }\n  }, [currentPage, limit, filters]);\n\n  // Initial data fetching\n  useEffect(() => {\n    fetchBookings();\n    fetchStats();\n  }, [fetchBookings, fetchStats]);\n\n  // Handle filter changes\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Reset to page 1 when filters change\n    setCurrentPage(1);\n  };\n\n  // Apply filters\n  const handleSearch = e => {\n    e.preventDefault();\n    fetchBookings();\n  };\n\n  // Reset filters\n  const resetFilters = () => {\n    setFilters({\n      status: '',\n      startDate: '',\n      endDate: '',\n      search: ''\n    });\n    setCurrentPage(1);\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    if (!dateString) return 'N/A';\n    try {\n      return format(new Date(dateString), 'MMM dd, yyyy HH:mm');\n    } catch (err) {\n      return 'Invalid date';\n    }\n  };\n\n  // Get status badge styling\n  const getStatusBadgeClass = status => {\n    switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n      case 'active':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'completed':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Update booking status\n  const updateStatus = async (bookingId, newStatus) => {\n    if (!bookingId) return;\n    try {\n      const token = getAuthToken();\n      if (!token) {\n        alert('You are not authenticated. Please log in again.');\n        navigate('/login');\n        return;\n      }\n\n      // For development mode with mock token, update local state only\n      if (process.env.NODE_ENV === 'development' && token === 'dev-token-for-testing') {\n        console.log(`Development mode: Updating booking ${bookingId} status to ${newStatus}`);\n        // Update the booking in state\n        setBookings(prevBookings => prevBookings.map(booking => booking._id === bookingId ? {\n          ...booking,\n          status: newStatus\n        } : booking));\n\n        // Also update selected booking if it's open\n        if (selectedBooking && selectedBooking._id === bookingId) {\n          setSelectedBooking({\n            ...selectedBooking,\n            status: newStatus\n          });\n        }\n\n        // Update stats\n        if (stats) {\n          const updatedStats = {\n            ...stats\n          };\n\n          // Simple mock stats update\n          if (newStatus === 'active') {\n            updatedStats.activeBookings += 1;\n          } else if ((selectedBooking === null || selectedBooking === void 0 ? void 0 : selectedBooking.status) === 'active' && newStatus !== 'active') {\n            updatedStats.activeBookings = Math.max(0, updatedStats.activeBookings - 1);\n          }\n          setStats(updatedStats);\n        }\n        return;\n      }\n      const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      };\n      const response = await axios.patch(`/api/bookings/${bookingId}/status`, {\n        status: newStatus\n      }, {\n        headers\n      });\n      if (response.data.success) {\n        // Update the booking in the state\n        setBookings(prevBookings => prevBookings.map(booking => booking._id === bookingId ? {\n          ...booking,\n          status: newStatus\n        } : booking));\n\n        // Also update selected booking if it's open\n        if (selectedBooking && selectedBooking._id === bookingId) {\n          setSelectedBooking({\n            ...selectedBooking,\n            status: newStatus\n          });\n        }\n\n        // Refresh stats after status update\n        fetchStats();\n      } else {\n        alert(response.data.message || 'Status update failed');\n      }\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Error updating booking status:', err);\n      alert(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Failed to update booking status');\n    }\n  };\n\n  // View booking details\n  const viewBookingDetails = bookingId => {\n    fetchBookingDetails(bookingId);\n  };\n\n  // Close booking details modal\n  const closeBookingDetails = () => {\n    setSelectedBooking(null);\n  };\n\n  // Export bookings to CSV\n  const exportToCSV = () => {\n    // Create CSV content\n    let csvContent = \"data:text/csv;charset=utf-8,\";\n\n    // Add headers\n    csvContent += \"Booking ID,User,EV Bunk,Start Time,End Time,Status,Price\\n\";\n\n    // Add data rows\n    bookings.forEach(booking => {\n      var _booking$userId2, _booking$user2, _booking$bunkId2, _booking$bunk2;\n      const row = [booking._id || '', (((_booking$userId2 = booking.userId) === null || _booking$userId2 === void 0 ? void 0 : _booking$userId2.name) || ((_booking$user2 = booking.user) === null || _booking$user2 === void 0 ? void 0 : _booking$user2.name) || '').replace(/,/g, ' '), (((_booking$bunkId2 = booking.bunkId) === null || _booking$bunkId2 === void 0 ? void 0 : _booking$bunkId2.name) || ((_booking$bunk2 = booking.bunk) === null || _booking$bunk2 === void 0 ? void 0 : _booking$bunk2.name) || '').replace(/,/g, ' '), booking.startTime ? formatDate(booking.startTime) : '', booking.endTime ? formatDate(booking.endTime) : '', booking.status || '', booking.price ? `$${booking.price.toFixed(2)}` : ''];\n      csvContent += row.join(',') + \"\\n\";\n    });\n\n    // Create download link\n    const encodedUri = encodeURI(csvContent);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodedUri);\n    link.setAttribute(\"download\", `bookings-export-${new Date().toISOString().slice(0, 10)}.csv`);\n    document.body.appendChild(link);\n\n    // Trigger download\n    link.click();\n\n    // Clean up\n    document.body.removeChild(link);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Booking Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportToCSV,\n        className: \"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-2\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this), \"Export to CSV\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookingStats, {\n      stats: stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"status\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"status\",\n            name: \"status\",\n            value: filters.status,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Statuses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"active\",\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cancelled\",\n              children: \"Cancelled\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"startDate\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"startDate\",\n            name: \"startDate\",\n            value: filters.startDate,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"endDate\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"End Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"endDate\",\n            name: \"endDate\",\n            value: filters.endDate,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"search\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"search\",\n              name: \"search\",\n              placeholder: \"Search by user, bunk...\",\n              value: filters.search,\n              onChange: handleFilterChange,\n              className: \"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 644,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetFilters,\n          className: \"text-sm text-gray-600 hover:text-indigo-600\",\n          children: \"Reset filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-600\",\n        children: \"Loading bookings...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 9\n    }, this), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 11\n      }, this), !getAuthToken() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n          children: \"Go to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 15\n        }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.setItem('devMode', 'true');\n            localStorage.setItem('mockAuthToken', 'dev-token-for-testing');\n            window.location.reload();\n          },\n          className: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\",\n          children: \"Use Mock Auth (Dev Only)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 9\n    }, this), !loading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-md rounded-lg overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Booking ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"EV Bunk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Start Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 741,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"relative px-6 py-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"sr-only\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 748,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  className: \"text-center py-4 text-gray-500\",\n                  children: \"No bookings found.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 21\n              }, this) : bookings.map(booking => {\n                var _booking$bunkId3, _booking$bunk3;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: ((_booking$bunkId3 = booking.bunkId) === null || _booking$bunkId3 === void 0 ? void 0 : _booking$bunkId3.name) || ((_booking$bunk3 = booking.bunk) === null || _booking$bunk3 === void 0 ? void 0 : _booking$bunk3.name) || 'N/A'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: formatDate(booking.startTime || booking.slot)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeClass(booking.status)}`,\n                      children: booking.status || 'Unknown'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 769,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 768,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => viewBookingDetails(booking._id),\n                      className: \"text-indigo-600 hover:text-indigo-900\",\n                      children: \"View Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 778,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: booking.status || '',\n                      onChange: e => updateStatus(booking._id, e.target.value),\n                      className: \"border border-gray-300 rounded-md p-1 text-sm\",\n                      \"aria-label\": \"Update booking status\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"active\",\n                        children: \"Active\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 790,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"cancelled\",\n                        children: \"Cancelled\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 791,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"completed\",\n                        children: \"Completed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 792,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 784,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 777,\n                    columnNumber: 25\n                  }, this)]\n                }, booking._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Showing \", bookings.length, \" of \", totalBookings, \" bookings\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentPage(prev => Math.max(prev - 1, 1)),\n            disabled: currentPage === 1,\n            className: \"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50\",\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"px-2 text-sm\",\n            children: [\"Page \", currentPage, \" of \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentPage(prev => Math.min(prev + 1, totalPages)),\n            disabled: currentPage === totalPages,\n            className: \"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), selectedBooking && /*#__PURE__*/_jsxDEV(BookingDetails, {\n      booking: selectedBooking,\n      onClose: closeBookingDetails,\n      onStatusChange: updateStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 833,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminBookingsList, \"EYCtrtHncgKCtizy8OOjFJGObM8=\", false, function () {\n  return [useNavigate];\n});\n_c3 = AdminBookingsList;\nexport default AdminBookingsList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"BookingStats\");\n$RefreshReg$(_c2, \"BookingDetails\");\n$RefreshReg$(_c3, \"AdminBookingsList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","format","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingStats","stats","_stats$totalRevenue","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalBookings","activeBookings","totalRevenue","toFixed","_c","BookingDetails","booking","onClose","onStatusChange","_booking$userId","_booking$user","_booking$bunkId","_booking$bunk","getStatusBadgeClass","status","toLowerCase","onClick","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","_id","userId","name","user","bunkId","bunk","Date","startTime","slot","endTime","price","vehicle","disabled","_c2","AdminBookingsList","_s","navigate","bookings","setBookings","loading","setLoading","error","setError","setStats","selectedBooking","setSelectedBooking","currentPage","setCurrentPage","totalPages","setTotalPages","setTotalBookings","limit","filters","setFilters","startDate","endDate","search","MOCK_STATS","MOCK_BOOKINGS","toISOString","now","getAuthToken","localStorage","getItem","sessionStorage","process","env","NODE_ENV","setupDevEnvironment","devMode","console","log","setItem","fetchStats","token","warn","headers","Authorization","response","get","data","success","message","err","fetchBookingDetails","bookingId","mockBooking","find","b","alert","_err$response","_err$response$data","fetchBookings","length","params","page","bookingsData","totalPagesCount","totalBookingsCount","_response$data$data$p","_response$data$data$p2","pagination","pages","total","Array","isArray","_response$data$pagina","_response$data$pagina2","totalCount","_err$response2","_err$response2$data","errorMessage","handleFilterChange","e","value","target","prev","handleSearch","preventDefault","resetFilters","formatDate","dateString","updateStatus","newStatus","prevBookings","map","updatedStats","Math","max","patch","_err$response3","_err$response3$data","viewBookingDetails","closeBookingDetails","exportToCSV","csvContent","forEach","_booking$userId2","_booking$user2","_booking$bunkId2","_booking$bunk2","row","replace","join","encodedUri","encodeURI","link","document","createElement","setAttribute","slice","body","appendChild","click","removeChild","onSubmit","htmlFor","id","onChange","type","placeholder","window","location","reload","scope","colSpan","_booking$bunkId3","_booking$bunk3","min","_c3","$RefreshReg$"],"sources":["D:/UnifiedMentor/electric-charger-hub/ev-charge-hub/client/src/components/admin/AdminBookingList.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\n\r\n// Stats component for the dashboard\r\nconst BookingStats = ({ stats }) => {\r\n  if (!stats) return null;\r\n  \r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Total Bookings</h3>\r\n        <p className=\"text-3xl font-bold text-indigo-600\">{stats.totalBookings}</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Active Bookings</h3>\r\n        <p className=\"text-3xl font-bold text-green-600\">{stats.activeBookings}</p>\r\n      </div>\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Revenue</h3>\r\n        <p className=\"text-3xl font-bold text-blue-600\">${stats.totalRevenue?.toFixed(2) || '0.00'}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// BookingDetails component for the modal\r\nconst BookingDetails = ({ booking, onClose, onStatusChange }) => {\r\n  if (!booking) return null;\r\n  \r\n  const getStatusBadgeClass = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'active': return 'bg-green-100 text-green-800';\r\n      case 'cancelled': return 'bg-red-100 text-red-800';\r\n      case 'completed': return 'bg-blue-100 text-blue-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-screen overflow-y-auto\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-bold\">Booking Details</h2>\r\n          <button \r\n            onClick={onClose}\r\n            className=\"p-1 hover:bg-gray-100 rounded-full\"\r\n          >\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Booking ID</p>\r\n            <p className=\"font-medium\">{booking._id}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Status</p>\r\n            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeClass(booking.status)}`}>\r\n              {booking.status || 'Unknown'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">User</p>\r\n            <p className=\"font-medium\">{booking.userId?.name || booking.user?.name || 'N/A'}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">EV Bunk</p>\r\n            <p className=\"font-medium\">{booking.bunkId?.name || booking.bunk?.name || 'N/A'}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Start Time</p>\r\n            <p className=\"font-medium\">{format(new Date(booking.startTime || booking.slot), 'MMM dd, yyyy HH:mm')}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">End Time</p>\r\n            <p className=\"font-medium\">\r\n              {booking.endTime ? format(new Date(booking.endTime), 'MMM dd, yyyy HH:mm') : 'N/A'}\r\n            </p>\r\n          </div>\r\n          {booking.price && (\r\n            <div>\r\n              <p className=\"text-sm text-gray-500\">Price</p>\r\n              <p className=\"font-medium\">${booking.price.toFixed(2)}</p>\r\n            </div>\r\n          )}\r\n          {booking.vehicle && (\r\n            <div>\r\n              <p className=\"text-sm text-gray-500\">Vehicle</p>\r\n              <p className=\"font-medium\">{booking.vehicle}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"border-t pt-4\">\r\n          <p className=\"text-sm font-medium mb-2\">Update Status</p>\r\n          <div className=\"flex space-x-2\">\r\n            <button \r\n              onClick={() => onStatusChange(booking._id, 'active')}\r\n              className={`px-3 py-1 rounded text-sm font-medium ${booking.status === 'active' ? 'bg-green-600 text-white' : 'bg-gray-200 hover:bg-green-100'}`}\r\n              disabled={booking.status === 'active'}\r\n            >\r\n              Active\r\n            </button>\r\n            <button \r\n              onClick={() => onStatusChange(booking._id, 'completed')}\r\n              className={`px-3 py-1 rounded text-sm font-medium ${booking.status === 'completed' ? 'bg-blue-600 text-white' : 'bg-gray-200 hover:bg-blue-100'}`}\r\n              disabled={booking.status === 'completed'}\r\n            >\r\n              Completed\r\n            </button>\r\n            <button \r\n              onClick={() => onStatusChange(booking._id, 'cancelled')}\r\n              className={`px-3 py-1 rounded text-sm font-medium ${booking.status === 'cancelled' ? 'bg-red-600 text-white' : 'bg-gray-200 hover:bg-red-100'}`}\r\n              disabled={booking.status === 'cancelled'}\r\n            >\r\n              Cancelled\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminBookingsList = () => {\r\n  const navigate = useNavigate();\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [stats, setStats] = useState(null);\r\n  const [selectedBooking, setSelectedBooking] = useState(null);\r\n\r\n  // Pagination state\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [totalBookings, setTotalBookings] = useState(0);\r\n  const [limit] = useState(10);\r\n\r\n  // Filter state\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    search: ''\r\n  });\r\n\r\n  // Mock data for development mode\r\n  const MOCK_STATS = {\r\n    totalBookings: 42,\r\n    activeBookings: 15,\r\n    totalRevenue: 3250.75\r\n  };\r\n  \r\n  const MOCK_BOOKINGS = [\r\n    {\r\n      _id: \"60d21b4667d0d8992e610c85\",\r\n      userId: { name: \"John Doe\" },\r\n      bunkId: { name: \"Central EV Station\" },\r\n      startTime: new Date().toISOString(),\r\n      endTime: new Date(Date.now() + 3600000).toISOString(),\r\n      price: 45.99,\r\n      vehicle: \"Tesla Model 3\",\r\n      status: \"active\"\r\n    },\r\n    {\r\n      _id: \"60d21b4667d0d8992e610c86\",\r\n      userId: { name: \"Jane Smith\" },\r\n      bunkId: { name: \"North Side Charging\" },\r\n      startTime: new Date(Date.now() + 86400000).toISOString(),\r\n      endTime: new Date(Date.now() + 90000000).toISOString(),\r\n      price: 37.50,\r\n      vehicle: \"Nissan Leaf\",\r\n      status: \"completed\"\r\n    },\r\n    {\r\n      _id: \"60d21b4667d0d8992e610c87\",\r\n      userId: { name: \"Robert Johnson\" },\r\n      bunkId: { name: \"South EV Hub\" },\r\n      startTime: new Date(Date.now() - 86400000).toISOString(),\r\n      endTime: new Date(Date.now() - 82800000).toISOString(),\r\n      price: 29.99,\r\n      vehicle: \"Chevrolet Bolt\",\r\n      status: \"cancelled\"\r\n    }\r\n  ];\r\n\r\n  // Get authentication token from storage\r\n  const getAuthToken = () => {\r\n    return (\r\n      localStorage.getItem('authToken') || \r\n      localStorage.getItem('token') || \r\n      localStorage.getItem('userToken') ||\r\n      sessionStorage.getItem('authToken') ||\r\n      (process.env.NODE_ENV === 'development' ? localStorage.getItem('mockAuthToken') : null)\r\n    );\r\n  };\r\n\r\n  // For development mode: Set up mock auth token\r\n  useEffect(() => {\r\n    const setupDevEnvironment = () => {\r\n      if (process.env.NODE_ENV === 'development' && !getAuthToken()) {\r\n        const devMode = localStorage.getItem('devMode');\r\n        \r\n        if (devMode === 'true') {\r\n          console.log('Development mode: Using mock authentication');\r\n          localStorage.setItem('mockAuthToken', 'dev-token-for-testing');\r\n        }\r\n      }\r\n    };\r\n    \r\n    setupDevEnvironment();\r\n  }, []);\r\n\r\n  // Fetch booking statistics\r\n  const fetchStats = useCallback(async () => {\r\n    try {\r\n      const token = getAuthToken();\r\n      \r\n      if (!token) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.warn(\"Development mode: Using mock stats\");\r\n          setStats(MOCK_STATS);\r\n          return;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n\r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      };\r\n      \r\n      const response = await axios.get('/api/bookings/stats', { headers });\r\n      \r\n      if (response.data.success) {\r\n        setStats(response.data.data);\r\n      } else {\r\n        console.warn(\"Failed to fetch stats:\", response.data.message);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching booking stats:', err);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch booking details\r\n  const fetchBookingDetails = useCallback(async (bookingId) => {\r\n    try {\r\n      const token = getAuthToken();\r\n      \r\n      if (!token) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          const mockBooking = MOCK_BOOKINGS.find(b => b._id === bookingId);\r\n          if (mockBooking) {\r\n            setSelectedBooking(mockBooking);\r\n          }\r\n          return;\r\n        } else {\r\n          setError('Authentication required. Please log in again.');\r\n          return;\r\n        }\r\n      }\r\n\r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      };\r\n      \r\n      const response = await axios.get(`/api/bookings/${bookingId}`, { headers });\r\n      \r\n      if (response.data.success) {\r\n        setSelectedBooking(response.data.data);\r\n      } else {\r\n        alert(response.data.message || 'Failed to fetch booking details');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching booking details:', err);\r\n      alert(err.response?.data?.message || 'Failed to fetch booking details');\r\n    }\r\n  }, []);\r\n\r\n  // Function to fetch bookings\r\n  const fetchBookings = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Get the token\r\n      const token = getAuthToken();\r\n      \r\n      if (!token) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          console.warn(\"⚠️ Development mode: No auth token found. Using mock data.\");\r\n          setBookings(MOCK_BOOKINGS);\r\n          setTotalPages(1);\r\n          setTotalBookings(MOCK_BOOKINGS.length);\r\n          setLoading(false);\r\n          return;\r\n        } else {\r\n          setError('Authentication required. Please log in again.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Set up headers with authentication\r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      };\r\n      \r\n      // Construct query parameters\r\n      const params = {\r\n        page: currentPage,\r\n        limit,\r\n        ...(filters.status && { status: filters.status }),\r\n        ...(filters.startDate && { startDate: filters.startDate }),\r\n        ...(filters.endDate && { endDate: filters.endDate }),\r\n        ...(filters.search && { search: filters.search })\r\n      };\r\n      \r\n      // Make API call\r\n      const response = await axios.get('/api/bookings', { headers, params });\r\n      \r\n      // Handle different response structures\r\n      let bookingsData = [], totalPagesCount = 1, totalBookingsCount = 0;\r\n      \r\n      if (response.data.success) {\r\n        // Standard success response format\r\n        if (response.data.data && response.data.data.bookings) {\r\n          bookingsData = response.data.data.bookings;\r\n          totalPagesCount = response.data.data.pagination?.pages || 1;\r\n          totalBookingsCount = response.data.data.pagination?.total || 0;\r\n        } else if (Array.isArray(response.data.data)) {\r\n          bookingsData = response.data.data;\r\n          totalPagesCount = response.data.pagination?.pages || 1;\r\n          totalBookingsCount = response.data.pagination?.total || 0;\r\n        }\r\n      } else if (response.data.bookings) {\r\n        // Alternative format\r\n        bookingsData = response.data.bookings;\r\n        totalPagesCount = response.data.totalPages || 1;\r\n        totalBookingsCount = response.data.totalCount || 0;\r\n      } else if (Array.isArray(response.data)) {\r\n        // Direct array response\r\n        bookingsData = response.data;\r\n        totalPagesCount = 1;\r\n        totalBookingsCount = response.data.length;\r\n      } else {\r\n        console.warn(\"Unexpected response format:\", response.data);\r\n        bookingsData = [];\r\n      }\r\n      \r\n      setBookings(bookingsData);\r\n      setTotalPages(totalPagesCount);\r\n      setTotalBookings(totalBookingsCount);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('Error fetching bookings:', err);\r\n      const errorMessage = err.response?.data?.message || 'Failed to fetch bookings';\r\n      setError(errorMessage);\r\n      setLoading(false);\r\n    }\r\n  }, [currentPage, limit, filters]);\r\n\r\n  // Initial data fetching\r\n  useEffect(() => {\r\n    fetchBookings();\r\n    fetchStats();\r\n  }, [fetchBookings, fetchStats]);\r\n\r\n  // Handle filter changes\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    // Reset to page 1 when filters change\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Apply filters\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    fetchBookings();\r\n  };\r\n\r\n  // Reset filters\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      status: '',\r\n      startDate: '',\r\n      endDate: '',\r\n      search: ''\r\n    });\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  // Format date for display\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return format(new Date(dateString), 'MMM dd, yyyy HH:mm');\r\n    } catch (err) {\r\n      return 'Invalid date';\r\n    }\r\n  };\r\n\r\n  // Get status badge styling\r\n  const getStatusBadgeClass = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'active':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'cancelled':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'completed':\r\n        return 'bg-blue-100 text-blue-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Update booking status\r\n  const updateStatus = async (bookingId, newStatus) => {\r\n    if (!bookingId) return;\r\n    \r\n    try {\r\n      const token = getAuthToken();\r\n      \r\n      if (!token) {\r\n        alert('You are not authenticated. Please log in again.');\r\n        navigate('/login');\r\n        return;\r\n      }\r\n      \r\n      // For development mode with mock token, update local state only\r\n      if (process.env.NODE_ENV === 'development' && token === 'dev-token-for-testing') {\r\n        console.log(`Development mode: Updating booking ${bookingId} status to ${newStatus}`);\r\n        // Update the booking in state\r\n        setBookings(prevBookings =>\r\n          prevBookings.map(booking =>\r\n            booking._id === bookingId\r\n              ? { ...booking, status: newStatus }\r\n              : booking\r\n          )\r\n        );\r\n        \r\n        // Also update selected booking if it's open\r\n        if (selectedBooking && selectedBooking._id === bookingId) {\r\n          setSelectedBooking({\r\n            ...selectedBooking,\r\n            status: newStatus\r\n          });\r\n        }\r\n        \r\n        // Update stats\r\n        if (stats) {\r\n          const updatedStats = { ...stats };\r\n          \r\n          // Simple mock stats update\r\n          if (newStatus === 'active') {\r\n            updatedStats.activeBookings += 1;\r\n          } else if (selectedBooking?.status === 'active' && newStatus !== 'active') {\r\n            updatedStats.activeBookings = Math.max(0, updatedStats.activeBookings - 1);\r\n          }\r\n          \r\n          setStats(updatedStats);\r\n        }\r\n        \r\n        return;\r\n      }\r\n      \r\n      const headers = {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      };\r\n      \r\n      const response = await axios.patch(\r\n        `/api/bookings/${bookingId}/status`, \r\n        { status: newStatus },\r\n        { headers }\r\n      );\r\n\r\n      if (response.data.success) {\r\n        // Update the booking in the state\r\n        setBookings(prevBookings =>\r\n          prevBookings.map(booking =>\r\n            booking._id === bookingId\r\n              ? { ...booking, status: newStatus }\r\n              : booking\r\n          )\r\n        );\r\n        \r\n        // Also update selected booking if it's open\r\n        if (selectedBooking && selectedBooking._id === bookingId) {\r\n          setSelectedBooking({\r\n            ...selectedBooking,\r\n            status: newStatus\r\n          });\r\n        }\r\n        \r\n        // Refresh stats after status update\r\n        fetchStats();\r\n      } else {\r\n        alert(response.data.message || 'Status update failed');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating booking status:', err);\r\n      alert(err.response?.data?.message || 'Failed to update booking status');\r\n    }\r\n  };\r\n\r\n  // View booking details\r\n  const viewBookingDetails = (bookingId) => {\r\n    fetchBookingDetails(bookingId);\r\n  };\r\n  \r\n  // Close booking details modal\r\n  const closeBookingDetails = () => {\r\n    setSelectedBooking(null);\r\n  };\r\n  \r\n  // Export bookings to CSV\r\n  const exportToCSV = () => {\r\n    // Create CSV content\r\n    let csvContent = \"data:text/csv;charset=utf-8,\";\r\n    \r\n    // Add headers\r\n    csvContent += \"Booking ID,User,EV Bunk,Start Time,End Time,Status,Price\\n\";\r\n    \r\n    // Add data rows\r\n    bookings.forEach(booking => {\r\n      const row = [\r\n        booking._id || '',\r\n        (booking.userId?.name || booking.user?.name || '').replace(/,/g, ' '),\r\n        (booking.bunkId?.name || booking.bunk?.name || '').replace(/,/g, ' '),\r\n        booking.startTime ? formatDate(booking.startTime) : '',\r\n        booking.endTime ? formatDate(booking.endTime) : '',\r\n        booking.status || '',\r\n        booking.price ? `$${booking.price.toFixed(2)}` : ''\r\n      ];\r\n      \r\n      csvContent += row.join(',') + \"\\n\";\r\n    });\r\n    \r\n    // Create download link\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", `bookings-export-${new Date().toISOString().slice(0,10)}.csv`);\r\n    document.body.appendChild(link);\r\n    \r\n    // Trigger download\r\n    link.click();\r\n    \r\n    // Clean up\r\n    document.body.removeChild(link);\r\n  };\r\n    \r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Booking Management</h1>\r\n        <button\r\n          onClick={exportToCSV}\r\n          className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm flex items-center\"\r\n        >\r\n          <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n          </svg>\r\n          Export to CSV\r\n        </button>\r\n      </div>\r\n\r\n      {/* Dashboard Stats */}\r\n      <BookingStats stats={stats} />\r\n\r\n      {/* Filter and Search Section */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-4 mb-6\">\r\n        <h2 className=\"text-lg font-semibold mb-4\">Filters</h2>\r\n\r\n        <form onSubmit={handleSearch} className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\r\n          {/* Status filter */}\r\n          <div>\r\n            <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Status\r\n            </label>\r\n            <select\r\n              id=\"status\"\r\n              name=\"status\"\r\n              value={filters.status}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            >\r\n              <option value=\"\">All Statuses</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n              <option value=\"completed\">Completed</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Start date filter */}\r\n          <div>\r\n            <label htmlFor=\"startDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Start Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"startDate\"\r\n              name=\"startDate\"\r\n              value={filters.startDate}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n\r\n          {/* End date filter */}\r\n          <div>\r\n            <label htmlFor=\"endDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              End Date\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"endDate\"\r\n              name=\"endDate\"\r\n              value={filters.endDate}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            />\r\n          </div>\r\n\r\n          {/* Search input */}\r\n          <div>\r\n            <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Search\r\n            </label>\r\n            <div className=\"flex\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"search\"\r\n                name=\"search\"\r\n                placeholder=\"Search by user, bunk...\"\r\n                value={filters.search}\r\n                onChange={handleFilterChange}\r\n                className=\"flex-grow px-3 py-2 border border-gray-300 rounded-l-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-4 py-2 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n              >\r\n                Search\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            onClick={resetFilters}\r\n            className=\"text-sm text-gray-600 hover:text-indigo-600\"\r\n          >\r\n            Reset filters\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Loading and Error States */}\r\n      {loading && (\r\n        <div className=\"text-center py-4\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600\"></div>\r\n          <p className=\"mt-2 text-gray-600\">Loading bookings...</p>\r\n        </div>\r\n      )}\r\n\r\n      {error && !loading && (\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4\">\r\n          <p>{error}</p>\r\n          {!getAuthToken() && (\r\n            <div className=\"mt-2 flex space-x-2\">\r\n              <button \r\n                onClick={() => navigate('/login')}\r\n                className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\r\n              >\r\n                Go to Login\r\n              </button>\r\n              {process.env.NODE_ENV === 'development' && (\r\n                <button \r\n                  onClick={() => {\r\n                    localStorage.setItem('devMode', 'true');\r\n                    localStorage.setItem('mockAuthToken', 'dev-token-for-testing');\r\n                    window.location.reload();\r\n                  }}\r\n                  className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\r\n                >\r\n                  Use Mock Auth (Dev Only)\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Bookings Table */}\r\n      {!loading && !error && (\r\n        <>\r\n          <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Booking ID\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      User\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      EV Bunk\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Start Time\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Status\r\n                    </th>\r\n                    <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                      <span className=\"sr-only\">Actions</span>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {bookings.length === 0 ? (\r\n                    <tr>\r\n                      <td colSpan=\"6\" className=\"text-center py-4 text-gray-500\">\r\n                        No bookings found.\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    bookings.map((booking) => (\r\n                      <tr key={booking._id} className=\"hover:bg-gray-50\">\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                          {booking.bunkId?.name || booking.bunk?.name || 'N/A'}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                          {formatDate(booking.startTime || booking.slot)}\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                          <span\r\n                            className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeClass(\r\n                              booking.status\r\n                            )}`}\r\n                          >\r\n                            {booking.status || 'Unknown'}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2\">\r\n                          <button\r\n                            onClick={() => viewBookingDetails(booking._id)}\r\n                            className=\"text-indigo-600 hover:text-indigo-900\"\r\n                          >\r\n                            View Details\r\n                          </button>\r\n                          <select\r\n                            value={booking.status || ''}\r\n                            onChange={(e) => updateStatus(booking._id, e.target.value)}\r\n                            className=\"border border-gray-300 rounded-md p-1 text-sm\"\r\n                            aria-label=\"Update booking status\"\r\n                          >\r\n                            <option value=\"active\">Active</option>\r\n                            <option value=\"cancelled\">Cancelled</option>\r\n                            <option value=\"completed\">Completed</option>\r\n                          </select>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Pagination Controls */}\r\n          <div className=\"flex justify-between items-center mt-4\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              Showing {bookings.length} of {totalBookings} bookings\r\n            </p>\r\n            <div className=\"space-x-2\">\r\n              <button\r\n                onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50\"\r\n              >\r\n                Previous\r\n              </button>\r\n              <span className=\"px-2 text-sm\">\r\n                Page {currentPage} of {totalPages}\r\n              </span>\r\n              <button\r\n                onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}\r\n                disabled={currentPage === totalPages}\r\n                className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Booking Details Modal */}\r\n      {selectedBooking && (\r\n        <BookingDetails \r\n          booking={selectedBooking}\r\n          onClose={closeBookingDetails}\r\n          onStatusChange={updateStatus}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminBookingsList;\r\n                      "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}